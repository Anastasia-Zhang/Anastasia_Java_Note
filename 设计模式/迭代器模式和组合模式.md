## 迭代器模式和组合模式

### 迭代器模式

#### 定义

**提供一种发顺序访问一个聚合对象中的各个元素，不暴露其内部表示**

* 不用担心是数组还是ArrayList，提供了以组遍历方式
* 把遍历的给你跟那个放在迭代器上而不是聚合上，简化聚合接口和实现，让责任各得其所。

<img src="E:\研究生学习\Typora图片\1575554993122.png" alt="1575554993122" style="zoom:80%;" />

使用迭代器的时候依赖聚合提供便利，迭代器提供了一个通用的接口，遍历聚合的项时，就可以使用多态机制。

### 设计模式

#### 单一职责:一个应该只有一个引起变化的原因

一个责任只能指派给一个类。一个类内应该是高内聚的。

### 组合模式

#### 定义

组合模式允许将对象组合成树形结构来表现**“整体/部分”**的层次结构。能让客户**以一致的方式**处理个别对象及对象组合。<img src="E:\研究生学习\Typora图片\1575559638621.png" alt="1575559638621" style="zoom:80%;" />

组合模式不仅要管理层次结果，还要执行菜单的操做。设计以单一模式换取**透明性**。让组见的接口同时包含一些管理子节点的操作，客户可以将组合和叶节点一视同仁。

* 对象的集合，**整体/部分关系，用一致的方法处理对待这些对象**。组合对象
* 一致的方法：**有着相同的接口，组合所有的对象都必须实现相同的接口。保持透明性**
* 若组合中的行为不太一样，可以返回空对象，false等，或者抛出异常
* 组合与缓存，若组合模式复杂或者运算代价高可以用缓存来保存临时结果。
* 组合不用担心要调用的是哪个对象，只需要对整个结构调用一个方法并执行操作。