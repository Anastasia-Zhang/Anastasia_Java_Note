Zana Ghaderi, Ayed Alqahtani, Nader Bagherzadeh: AROMa: Aging-Aware Deadlock-Free Adaptive Routing Algorithm and Online Monitoring in 3D NoCs. IEEE Trans. Parallel Distrib. Syst. 29(4): 772-788 (2018)

## 基于 3D 片状网络的无老化感知和死锁自适应路由算法和在线监控

### 摘要

朝着3D制造与片上网络（NoC）结合的目标是改善多核系统的面积，性能，功耗和可扩展性。然而，可靠性问题一直是先进硅技术的一个永恒挑战。 老化作为一个新出现的可靠性问题，它会降低系统性能并最终导致计时故障。偏置温度不稳定性（BTI）和热载流子注入（HCI）是主要的老化机制，它们在较高的温度和压力（即使用）中逐渐加剧。除了层内温度变化外，3D NoC还会经历层间温度变化，与2D NoC相比，这需要对老化进行必要的研究。在本文中，我们提出了AROMa，它是一种可感知老化的无死锁的自适应路由算法，并与新型的3D NoC在线老化监测系统集成在一起。 AROMa中的监视系统利用分布式集中老化表（D-CAT）来定期获取3D NoC每一层的路由器老化率。因此，AROMa会定期在不同的k-best源-目的地最短路径之间交换，以避免高度老化的路由器，迫使它们进入BTI的恢复阶段，并相应的平衡网络中的老化。我们证明AROMa没有死锁。 我们对PARSEC和SPLASH-2基准套件使用gem5完整系统模式进行了广泛的实验分析，得出的结论是AROMa的性能超越了最新技术，同时在3D NoC中将年龄不平衡性提高了70％，最大寿命提高了35％，而开销却可以忽略不计。

### 1.介绍

为了解决多核系统中复杂的片上互连问题，已通过应用裸片堆叠技术提出了三维片上网络（3D NoC），以提高性能，能效和功耗。此外，3D NoC由于具有可扩展性而成为许多核心系统的有希望的解决方案，可扩展性集成了许多同质或异类知识产权（IP），例如 处理单元[1]，[2]，[3]，[4]。但是，先进硅技术中的可靠性问题的挑战可能会损害多核系统的性能增益和可扩展性。 这些挑战之一是老化机制，该机制在高密度堆叠式芯片集成中不断升级，[5]，[6]，[7]，[8]。

当晶体管处于应力和高温下时，会发生老化。 偏置温度不稳定性（BTI）和热载流子注入（HCI）是主要的老化机制，他们逐渐增加了晶体管的阈值电压（Vth）[7]，[9]，[10]，[11]。偏移的 V~th~ 导致系统关键路径延迟的意外增加，从长远来看，这最终会加剧系统组件内的性能损失和定时故障。因此，设计人员必须为关键路径分配大量的保护带来避免时序失败。 这会给系统[8]，[12]，[13]带来功耗，面积和性能开销。因此，NoC需要仔细的老化研究来在多核系统中维持高带宽，并行性和可伸缩性。老化引起的路由器性能下降会导致NoC中的时序故障和连接丢失[10]，[14]，[15]，[16]，[17]。此外，温度目前是3D设计中一个有争议的挑战，与2D NoC相比，它迫使进一步的老化研究。 如图1所示，我们观察到，即使在运行任务的均匀随机分布之后，在4 * 4 * 4 3D NoC的不同层中的路由器也会经历不同的温度和压力。这会导致路由器在不同层次上的老化不平衡，并导致某些路由器比其他路由器老化更多。

BTI中的压力是晶体管的占空比。 当晶体管关闭时，BTI引起的延迟退化可以部分恢复。 HCI中的压力是晶体管的开关活动。因此，老化是工作量的函数，它会改变路由器关键路径晶体管上的温度和压力。由于微片是唯一的刺激中的路由器，包括温度以及应力是微片的功能。而且，路由器在给定时间段内的碎片容量是有限的并且也是可预测的。 这意味着我们可以预测温度和压力，甚至可以预测基于微片路由器的老化。为此，我们在给定的时间段内t = . 计算微片的数量number-of-flits (fl)和他们的停留时间residence-times (rs)。因此，我们在[10]中提出了集中式老化表（CAT）。 CAT由路由器中fl和rs不同范围的老化退化量填充而成，从零到路由器在特定时间内的容量。总而言之，（fli，rsj）的各种对分别对应于不同的温度量，应力值以及老化率。 这使我们可以独立于运行的工作负载来监视老化。

堆叠裸片的层间温差会导致它们之间的老化不平衡（图1）。 在这项工作中，我们提出了分布式CAT（D-CAT）来量化由于距散热器的不同垂直距离的温度变化而引起的间隙。因此，每个层都有自己的D-CAT，以增加老化监视系统的可伸缩性并捕获不同层的温度变化。 这意味着同一对（fli; rsj）由于3D NoC中层的温度变化而导致不同的老化率。 我们提出的老化监控系统独立于正在运行的应用程序的多种行为，并且能够在线监控网络不同层的路由器的老化。

此外，由于*fl*和*rs*对受网络路由算法的刺激，路由器的年龄也与之直接相关。NoC中的源－目的地对之间存在最短的路径，因此网络可以在它们之间自适应地交换以减少路由器的压力和温度。为此，我们提出了AROMa，它是一种可感知老化的自适应路由，并结合了我们新颖的在线监控系统，可避免路由器中的老化不平衡并最终延长系统的使用寿命。

在[14]，[15]，[18]，[19]中提出的技术集中于BTI引起的二维NoC中的老化延迟退化。 这些技术要么离线[14]，[15]，要么老化受到运行时操作条件的严重影响，或者给系统带来很大的开销[18]，[19]。 [14]，[15]，[18]中提出的技术为每个路由器分配了生命周期预算，从而导致其路由器过早失效。从不变的预算偏差开始，分配给每个路由器会导致不平衡和不公平的老化，从而导致路由器老化。 此外，在[14]，[15]中提出的预算技术取决于在分析阶段使用的基准特征，这降低了它们的适用性。另外，需要复杂的电路来计算[18]中的预算，以及并行网络以在维持大量开销的网络中传播预算。我们基于[14]，[15]，[18]，它在配置过程中为高利用率的路由器分配了较低的预算，以降低运行时的负载，并利用我们的在线监控系统来跟踪路由器的老化率。